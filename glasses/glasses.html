<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI GLASSES â€” Assist Elders to Look Clearly and Communicate</title>
  <style>
    :root{
      /* Light theme */
      --bg0:#ffffff;
      --bg1:#f6f8ff;
      --card: rgba(255,255,255,.92);
      --card2: rgba(255,255,255,.78);
      --stroke: rgba(15,23,42,.12);
      --text:#0f172a;
      --muted: rgba(15,23,42,.68);
      --accent:#2563eb;
      --accent2:#db2777;
      --good:#16a34a;
      --warn:#f59e0b;
      --bad:#ef4444;
      --shadow: 0 14px 40px rgba(2,6,23,.08);
      --shadow2: 0 10px 28px rgba(2,6,23,.07);
      --r-lg: 22px;
      --r-md: 16px;
      --r-sm: 12px;
      --t: .22s ease;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", sans-serif;
    }

    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family: var(--sans);
      color: var(--text);
      background:
        radial-gradient(900px 520px at 18% 8%, rgba(37,99,235,.10), transparent 60%),
        radial-gradient(760px 520px at 78% 16%, rgba(219,39,119,.09), transparent 62%),
        radial-gradient(900px 620px at 50% 90%, rgba(22,163,74,.07), transparent 70%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      min-height: 100vh;
      line-height: 1.65;
    }

    /* ======= Sticky Nav ======= */
    .top-nav{
      position: fixed; inset: 0 0 auto 0;
      z-index: 50;
      background: rgba(255,255,255,.72);
      backdrop-filter: blur(14px);
      border-bottom: 1px solid var(--stroke);
    }
    .nav-inner{
      max-width: 1200px;
      margin: 0 auto;
      padding: 10px 16px;
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      user-select:none;
    }
    .brand-badge{
      width: 36px; height:36px; border-radius: 999px;
      display:grid; place-items:center;
      border: 1px solid rgba(37,99,235,.28);
      background: rgba(37,99,235,.10);
      box-shadow: 0 10px 22px rgba(37,99,235,.10);
      font-weight: 900;
      letter-spacing: .08em;
      color: var(--text);
    }
    .brand-title{
      display:flex; flex-direction:column; gap:0;
      line-height:1.05;
    }
    .brand-title b{
      letter-spacing: .22em;
      font-size: .95rem;
    }
    .brand-title span{
      font-size: .78rem; color: var(--muted);
      letter-spacing: .06em;
    }

    .nav-links{
      display:flex; flex-wrap:wrap; gap:8px;
      justify-content:flex-end;
    }
    .nav-btn{
      border: 1px solid transparent;
      background: transparent;
      color: var(--muted);
      padding: 7px 12px;
      border-radius: 999px;
      cursor: pointer;
      transition: background var(--t), border-color var(--t), transform var(--t), color var(--t);
      font-size: .86rem;
    }
    .nav-btn:hover{
      background: rgba(15,23,42,.05);
      border-color: rgba(15,23,42,.10);
      transform: translateY(-1px);
      color: var(--text);
    }
    .nav-btn.active{
      background: rgba(37,99,235,.12);
      border-color: rgba(37,99,235,.28);
      color: var(--text);
      box-shadow: 0 10px 26px rgba(37,99,235,.10);
    }

    .nav-cta{
      border: 0;
      background: linear-gradient(90deg, rgba(219,39,119,.92), rgba(37,99,235,.92));
      color: #ffffff;
      font-weight: 900;
      padding: 8px 14px;
      border-radius: 999px;
      cursor:pointer;
      box-shadow: 0 14px 30px rgba(2,6,23,.10);
      transition: transform var(--t), filter var(--t);
      white-space:nowrap;
    }
    .nav-cta:hover{ transform: translateY(-1px); filter: brightness(1.03); }

    /* ======= Layout ======= */
    .shell{
      max-width: 1200px;
      margin: 0 auto;
      padding: 86px 16px 70px;
    }
    .grid-hero{
      display:grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, .9fr);
      gap: 16px;
      align-items: stretch;
      margin-bottom: 18px;
    }
    .card{
      background: var(--card);
      border: 1px solid var(--stroke);
      border-radius: var(--r-lg);
      box-shadow: var(--shadow);
      overflow:hidden;
      position: relative;
    }
    .card .pad{ padding: 16px; }
    .card.soft{
      background: var(--card2);
      box-shadow: var(--shadow2);
    }

    .tag{
      display:inline-flex; align-items:center; gap:8px;
      padding: 6px 11px;
      border-radius: 999px;
      border: 1px solid rgba(37,99,235,.22);
      background: rgba(37,99,235,.08);
      color: var(--text);
      font-size: .82rem;
      letter-spacing: .08em;
    }
    .tag .dot{
      width: 9px; height:9px; border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 0 5px rgba(37,99,235,.10);
    }

    h1{
      font-size: clamp(1.9rem, 3.4vw, 2.6rem);
      letter-spacing: .22em;
      margin-top: 10px;
    }
    .subtitle{
      margin-top: 10px;
      color: var(--muted);
      max-width: 62ch;
      font-size: 1rem;
    }
    .hero-actions{
      display:flex; flex-wrap:wrap; gap:10px;
      margin-top: 12px;
    }
    .btn{
      border: 1px solid rgba(15,23,42,.12);
      background: rgba(255,255,255,.70);
      color: var(--text);
      padding: 9px 14px;
      border-radius: 999px;
      cursor:pointer;
      transition: transform var(--t), background var(--t), border-color var(--t), box-shadow var(--t);
      font-weight: 900;
      letter-spacing: .04em;
      box-shadow: 0 10px 20px rgba(2,6,23,.06);
    }
    .btn:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.92);
      border-color: rgba(15,23,42,.18);
    }
    .btn.primary{
      border: 0;
      background: rgba(37,99,235,.92);
      color: #ffffff;
      box-shadow: 0 16px 30px rgba(37,99,235,.18);
    }
    .btn.primary:hover{ filter: brightness(1.03); }
    .btn.danger{
      border: 0;
      background: rgba(239,68,68,.92);
      color: #ffffff;
      box-shadow: 0 16px 30px rgba(239,68,68,.14);
    }

    .stats{
      display:flex; flex-wrap:wrap; gap:14px;
      margin-top: 14px;
    }
    .stat{
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(15,23,42,.12);
      background: rgba(255,255,255,.72);
      min-width: 150px;
      box-shadow: 0 10px 20px rgba(2,6,23,.05);
    }
    .stat b{
      display:block;
      font-size: 1.3rem;
      letter-spacing: .03em;
      color: rgba(245,158,11,.95);
    }
    .stat span{ color: var(--muted); font-size: .85rem; }

    /* ======= Sections ======= */
    .section{ margin-top: 18px; }
    .section-head{
      display:flex; align-items:flex-end; justify-content:space-between; gap:12px;
      margin: 18px 2px 10px;
    }
    .section-head .kicker{
      font-size: .78rem;
      letter-spacing: .22em;
      text-transform: uppercase;
      color: rgba(15,23,42,.55);
    }
    .section-head h2{
      font-size: 1.35rem;
      letter-spacing: .08em;
      margin-top: 6px;
    }
    .section-head .hint{
      font-size: .85rem;
      color: var(--muted);
    }

    .grid-2{
      display:grid;
      grid-template-columns: minmax(0,1.15fr) minmax(0,1fr);
      gap: 14px;
    }
    .grid-3{
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 12px;
    }

    /* ======= Feature Tiles ======= */
    .tile{
      border: 1px solid rgba(15,23,42,.12);
      background: rgba(255,255,255,.78);
      border-radius: var(--r-md);
      padding: 12px;
      cursor:pointer;
      transition: transform var(--t), border-color var(--t), background var(--t), box-shadow var(--t);
      position: relative;
      overflow:hidden;
      box-shadow: 0 10px 22px rgba(2,6,23,.05);
    }
    .tile:hover{
      transform: translateY(-2px);
      background: rgba(255,255,255,.92);
      border-color: rgba(37,99,235,.22);
      box-shadow: 0 14px 28px rgba(2,6,23,.07);
    }
    .tile .top{
      display:flex; align-items:center; gap:10px;
      margin-bottom: 6px;
    }
    .icon{
      width: 36px; height:36px; border-radius: 14px;
      display:grid; place-items:center;
      background: rgba(37,99,235,.08);
      border: 1px solid rgba(37,99,235,.18);
      font-size: 1.05rem;
    }
    .tile h3{ font-size: 1rem; letter-spacing: .05em; }
    .tile p{ color: var(--muted); font-size: .9rem; }

    /* ======= Lens Simulator ======= */
    .lens-wrap{ padding: 14px; }
    .lens{
      background: linear-gradient(180deg, rgba(255,255,255,.86), rgba(248,250,252,.86));
      border: 1px solid rgba(15,23,42,.10);
      border-radius: 18px;
      padding: 12px;
      box-shadow: 0 10px 28px rgba(2,6,23,.06);
    }
    .lens-top{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      margin-bottom: 10px;
      flex-wrap: wrap;
    }
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(15,23,42,.12);
      background: rgba(255,255,255,.80);
      color: var(--muted);
      font-size: .82rem;
      white-space: nowrap;
      box-shadow: 0 8px 18px rgba(2,6,23,.05);
    }
    .pill b{ color: var(--text); }
    .lens-screen{
      border-radius: 16px;
      border: 1px solid rgba(15,23,42,.10);
      background:
        radial-gradient(circle at 20% 10%, rgba(37,99,235,.10), transparent 55%),
        radial-gradient(circle at 80% 15%, rgba(219,39,119,.08), transparent 55%),
        linear-gradient(180deg, rgba(255,255,255,.80), rgba(248,250,252,.88));
      padding: 14px;
      min-height: 188px;
      position: relative;
      overflow:hidden;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.75);
    }
    .lens-hud{
      position:absolute; inset: 10px 10px auto 10px;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      font-family: var(--mono);
      font-size: .78rem;
      color: rgba(15,23,42,.70);
      opacity: .95;
    }
    .lens-text{
      margin-top: 28px;
      padding: 10px 10px;
      border-radius: 14px;
      border: 1px dashed rgba(15,23,42,.22);
      background: rgba(255,255,255,.70);
      color: rgba(15,23,42,.92);
      transform-origin: top left;
    }
    .lens-text .label{
      font-size: .78rem;
      letter-spacing: .16em;
      text-transform: uppercase;
      color: rgba(15,23,42,.62);
      margin-bottom: 6px;
    }
    .lens-text .content{
      font-size: 18px;
      font-weight: 900;
      letter-spacing: .02em;
    }

    .controls{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 12px;
    }
    .ctrl{
      border-radius: 16px;
      border: 1px solid rgba(15,23,42,.12);
      background: rgba(255,255,255,.74);
      padding: 10px;
      box-shadow: 0 10px 22px rgba(2,6,23,.05);
    }
    .ctrl label{
      display:flex; align-items:center; justify-content:space-between; gap:8px;
      font-size: .86rem;
      color: var(--muted);
      margin-bottom: 6px;
    }
    .ctrl input[type="range"]{ width:100%; }
    .ctrl .val{
      font-family: var(--mono);
      color: var(--text);
      font-size: .86rem;
    }

    /* ======= Manual Tabs ======= */
    .tabs{
      display:flex; flex-wrap:wrap; gap:8px;
      padding: 10px 10px 0;
    }
    .tab-btn{
      border: 1px solid rgba(15,23,42,.12);
      background: rgba(255,255,255,.72);
      color: var(--muted);
      padding: 8px 12px;
      border-radius: 999px;
      cursor:pointer;
      transition: background var(--t), border-color var(--t), transform var(--t), color var(--t), box-shadow var(--t);
      font-weight: 900;
      letter-spacing: .04em;
      box-shadow: 0 10px 18px rgba(2,6,23,.05);
    }
    .tab-btn:hover{ transform: translateY(-1px); color: var(--text); }
    .tab-btn.active{
      background: rgba(37,99,235,.12);
      border-color: rgba(37,99,235,.28);
      color: var(--text);
      box-shadow: 0 14px 26px rgba(37,99,235,.10);
    }
    .tab-panel{ display:none; padding: 10px 14px 14px; }
    .tab-panel.active{ display:block; }

    .flow{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap: 12px;
      margin-top: 10px;
    }
    .stepchips{
      display:flex; flex-wrap:wrap; gap:8px;
      margin-top: 8px;
    }
    .chip{
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid rgba(15,23,42,.12);
      background: rgba(255,255,255,.72);
      color: var(--muted);
      cursor:pointer;
      transition: transform var(--t), border-color var(--t), background var(--t), color var(--t), box-shadow var(--t);
      font-size: .86rem;
      white-space: nowrap;
      box-shadow: 0 10px 18px rgba(2,6,23,.05);
    }
    .chip b{ color: var(--text); margin-right: 6px; font-family: var(--mono); }
    .chip.active{
      background: rgba(245,158,11,.14);
      border-color: rgba(245,158,11,.35);
      color: var(--text);
      transform: translateY(-1px);
    }
    .detail{
      border-radius: 16px;
      border: 1px dashed rgba(15,23,42,.18);
      background: rgba(255,255,255,.72);
      padding: 10px 12px;
      color: var(--muted);
      min-height: 92px;
      box-shadow: 0 10px 18px rgba(2,6,23,.05);
    }

    /* ======= Demo modules ======= */
    .field{
      display:flex; flex-direction:column; gap:6px;
      margin-top: 8px;
    }
    .field label{
      color: rgba(15,23,42,.72);
      font-size: .86rem;
      letter-spacing: .02em;
    }
    .row{
      display:flex; flex-wrap:wrap; gap:10px;
      align-items:center;
    }
    .inp, select, textarea{
      width: 100%;
      border-radius: 14px;
      border: 1px solid rgba(15,23,42,.12);
      background: rgba(255,255,255,.82);
      color: var(--text);
      padding: 10px 12px;
      outline: none;
      transition: border-color var(--t), background var(--t), box-shadow var(--t);
      box-shadow: 0 10px 18px rgba(2,6,23,.05);
    }
    textarea{ min-height: 90px; resize: vertical; }
    .inp:focus, select:focus, textarea:focus{
      border-color: rgba(37,99,235,.40);
      background: rgba(255,255,255,.95);
      box-shadow: 0 14px 26px rgba(37,99,235,.10);
    }
    .mini{
      font-size: .84rem; color: var(--muted);
    }

    .badge{
      display:inline-flex; align-items:center; gap:8px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(15,23,42,.12);
      background: rgba(255,255,255,.78);
      color: var(--muted);
      font-size: .82rem;
      font-family: var(--mono);
      box-shadow: 0 10px 18px rgba(2,6,23,.05);
    }
    .bar{
      height: 10px;
      border-radius: 999px;
      border: 1px solid rgba(15,23,42,.12);
      background: rgba(255,255,255,.82);
      overflow:hidden;
      margin-top: 10px;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.75);
    }
    .bar > i{
      display:block; height: 100%;
      width: 0%;
      background: linear-gradient(90deg, rgba(37,99,235,.92), rgba(219,39,119,.92));
      transition: width .35s ease;
    }

    .log{
      margin-top: 10px;
      border-radius: 16px;
      border: 1px solid rgba(15,23,42,.12);
      background: rgba(255,255,255,.74);
      padding: 10px;
      max-height: 180px;
      overflow:auto;
      font-family: var(--mono);
      font-size: .84rem;
      color: rgba(15,23,42,.86);
      box-shadow: 0 10px 22px rgba(2,6,23,.05);
    }
    .log .it{ padding: 6px 0; border-bottom: 1px solid rgba(15,23,42,.08); }
    .log .it:last-child{ border-bottom:0; }
    .log .ok{ color: rgba(22,163,74,.95); }
    .log .no{ color: rgba(239,68,68,.95); }
    .log .info{ color: rgba(245,158,11,.95); }

    /* ======= Future slider ======= */
    .range{ width:100%; margin-top: 10px; }
    .timeline-box{
      margin-top: 10px;
      border-radius: 16px;
      border: 1px solid rgba(15,23,42,.12);
      background: rgba(255,255,255,.74);
      padding: 12px;
      color: var(--muted);
      box-shadow: 0 10px 22px rgba(2,6,23,.05);
    }
    .timeline-box h3{
      color: var(--text);
      font-size: 1.02rem;
      margin-bottom: 6px;
      letter-spacing: .04em;
    }
    .timeline-box ul{ padding-left: 18px; }
    .timeline-box li{ margin: 4px 0; }

    /* ======= Toast ======= */
    .toast{
      position: fixed;
      right: 16px;
      bottom: 16px;
      width: min(420px, calc(100vw - 32px));
      background: rgba(255,255,255,.86);
      border: 1px solid rgba(15,23,42,.14);
      border-radius: 18px;
      box-shadow: 0 18px 46px rgba(2,6,23,.12);
      padding: 12px 12px 12px;
      display:none;
      z-index: 80;
      backdrop-filter: blur(14px);
    }
    .toast.show{ display:block; animation: pop .18s ease; }
    @keyframes pop{
      from{ transform: translateY(8px); opacity:.0; }
      to{ transform: translateY(0); opacity:1; }
    }
    .toast .t-head{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      margin-bottom: 6px;
    }
    .toast .t-head b{ letter-spacing:.04em; }
    .toast .t-body{ color: var(--muted); font-size: .92rem; }
    .toast .t-actions{ display:flex; gap:8px; margin-top: 10px; flex-wrap:wrap; }
    .x{
      border: 0;
      background: transparent;
      color: rgba(15,23,42,.65);
      cursor:pointer;
      font-size: 1.05rem;
    }

    /* ======= Back Top ======= */
    .backtop{
      position: fixed;
      left: 16px;
      bottom: 16px;
      width: 42px; height:42px;
      border-radius: 999px;
      border: 1px solid rgba(15,23,42,.14);
      background: rgba(255,255,255,.78);
      color: var(--text);
      cursor:pointer;
      display:none;
      place-items:center;
      z-index: 70;
      transition: transform var(--t), background var(--t), box-shadow var(--t);
      box-shadow: 0 14px 26px rgba(2,6,23,.08);
    }
    .backtop.show{ display:grid; }
    .backtop:hover{ transform: translateY(-2px); background: rgba(255,255,255,.92); }

    /* ======= Reveal ======= */
    .reveal{ opacity:0; transform: translateY(20px); transition: opacity .5s ease, transform .5s ease; }
    .reveal.visible{ opacity:1; transform: translateY(0); }

    /* ======= Accessibility toggles ======= */
    .a11y{
      display:flex; align-items:center; gap:8px; flex-wrap:wrap;
    }
    .toggle{
      display:inline-flex; align-items:center; gap:8px;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid rgba(15,23,42,.12);
      background: rgba(255,255,255,.72);
      color: var(--muted);
      cursor:pointer;
      transition: background var(--t), transform var(--t), border-color var(--t), color var(--t), box-shadow var(--t);
      font-weight: 900;
      font-size: .84rem;
      user-select:none;
      box-shadow: 0 10px 18px rgba(2,6,23,.05);
    }
    .toggle:hover{ transform: translateY(-1px); color: var(--text); }
    .toggle.on{
      background: rgba(22,163,74,.12);
      border-color: rgba(22,163,74,.28);
      color: var(--text);
    }

    /* ======= Responsive ======= */
    @media (max-width: 980px){
      .grid-hero{ grid-template-columns: 1fr; }
      .grid-2{ grid-template-columns: 1fr; }
      .grid-3{ grid-template-columns: 1fr; }
      .flow{ grid-template-columns: 1fr; }
      .nav-inner{ align-items:flex-start; flex-direction:column; }
      .nav-links{ justify-content:flex-start; }
    }
  </style>
</head>

<body>
  <!-- NAV -->
  <nav class="top-nav">
    <div class="nav-inner">
      <div class="brand">
        <div class="brand-badge">AI</div>
        <div class="brand-title">
          <b>GLASSES</b>
          <span>Assist elders to look clearly & communicate</span>
        </div>
      </div>

      <div class="nav-links">
        <button class="nav-btn" data-scroll="#intro">Intro</button>
        <button class="nav-btn" data-scroll="#functions">Functions</button>
        <button class="nav-btn" data-scroll="#manual">Manual</button>
        <button class="nav-btn" data-scroll="#future">Future</button>
      </div>

      <div class="a11y">
        <button class="toggle" id="toggle-font">å¤§å­—æ¨¡å¼</button>
        <button class="toggle" id="toggle-contrast">é«˜å°æ¯”</button>
        <button class="nav-cta" id="quick-demo">ä¸€éµè·‘ Demo</button>
      </div>
    </div>
  </nav>

  <main class="shell">
    <!-- HERO -->
    <section class="grid-hero reveal" id="intro">
      <div class="card">
        <div class="pad">
          <div class="tag"><span class="dot"></span><span>TAIWAN â€¢ Aging Society â€¢ Dialects</span></div>
          <h1>AI GLASSES</h1>
          <p class="subtitle">
            é‡å°å°ç£é«˜é½¡åŒ–èˆ‡å¤šèª/æ–¹è¨€ç’°å¢ƒè¨­è¨ˆï¼šç”¨ã€Œæ”¾å¤§é–±è®€ã€èªéŸ³æœ—è®€èˆ‡ç¿»è­¯ã€æé†’ã€å°èˆªã€SOSã€å”åŠ©é•·è¼©æ›´ç¨ç«‹ã€æ›´å®‰å…¨ã€‚
          </p>

          <div class="hero-actions">
            <button class="btn primary" data-scroll="#functions">æ¢ç´¢åŠŸèƒ½</button>
            <button class="btn" data-scroll="#manual">çœ‹æ“ä½œæµç¨‹</button>
            <button class="btn" id="btn-open-toast">æ¸¬è©¦æé†’é€šçŸ¥</button>
          </div>

          <div class="stats">
            <div class="stat">
              <b class="count" data-target="1200">0</b>
              <span>potential users supported</span>
            </div>
            <div class="stat">
              <b class="count" data-target="6">0</b>
              <span>languages / dialects</span>
            </div>
            <div class="stat">
              <b class="count" data-target="95">0</b>
              <span>% daily tasks covered</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Lens Simulator -->
      <div class="card soft">
        <div class="lens-wrap">
          <div class="lens">
            <div class="lens-top">
              <div class="pill">Lens Mode: <b id="lens-mode">Text</b></div>
              <div class="pill">Battery: <b id="lens-batt">87%</b></div>
              <div class="pill">Status: <b id="lens-status" style="color:var(--good)">OK</b></div>
            </div>

            <div class="lens-screen" id="lens-screen" aria-label="Lens simulator">
              <div class="lens-hud">
                <span id="hud-time">20:00</span>
                <span id="hud-lang">Text Mode</span>
              </div>

              <div class="lens-text" id="lens-text">
                <div class="label" id="lens-label">TEXT MAGNIFICATION</div>
                <div class="content" id="lens-content">èª¿æ•´å³ä¸‹æ§åˆ¶é …å¯å³æ™‚æ”¹è®Šé¡ç‰‡é¡¯ç¤ºï¼ˆå­—ç´šã€éŸ³é‡ã€æ¨¡å¼ï¼‰ã€‚</div>
              </div>
            </div>

            <div class="controls">
              <div class="ctrl">
                <label>
                  <span>å­—é«”æ”¾å¤§ (Text Size)</span>
                  <span class="val" id="val-zoom">100%</span>
                </label>
                <input id="zoom" type="range" min="70" max="190" value="100" />
              </div>
              <div class="ctrl">
                <label>
                  <span>éŸ³é‡ (Voice Volume)</span>
                  <span class="val" id="val-vol">60%</span>
                </label>
                <input id="vol" type="range" min="0" max="100" value="60" />
              </div>
              <div class="ctrl" style="grid-column: 1 / -1;">
                <label>
                  <span>æ¨¡å¼åˆ‡æ› (Text / Translation)</span>
                  <span class="val" id="val-mode">Text</span>
                </label>
                <input id="mode" type="range" min="0" max="1" step="1" value="0" />
              </div>
            </div>

            <div class="mini" style="margin-top:10px;">
              æ“ä½œæç¤ºï¼šé»æ“Šã€ŒåŠŸèƒ½å¡ç‰‡ã€æˆ–ã€Œç¿»è­¯åˆ°é¡ç‰‡ã€ï¼Œé¡ç‰‡ç•«é¢æœƒåŒæ­¥æ›´æ–°ã€‚
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FUNCTIONS -->
    <section class="section reveal" id="functions">
      <div class="section-head">
        <div>
          <div class="kicker">Overview</div>
          <h2>Why needed & Functions</h2>
        </div>
        <div class="hint">é»å¡ç‰‡å¯å°‡å…§å®¹æŠ•å°„åˆ° Lensï¼ˆäº’å‹•å±•ç¤ºï¼‰</div>
      </div>

      <div class="grid-2">
        <div class="card">
          <div class="pad">
            <h3 style="letter-spacing:.06em;">WHY NEEDED?</h3>
            <p style="color:var(--muted);margin-top:8px;">
              é«˜é½¡åŒ–ä½¿è¦–åŠ›é€€åŒ–èˆ‡ç”¨è—¥ç®¡ç†è®Šå¾—æ›´å¸¸è¦‹ï¼›åŒæ™‚å¤šèª/æ–¹è¨€ç’°å¢ƒä¹Ÿæœƒå¢åŠ æ—¥å¸¸æºé€šæˆæœ¬ã€‚
              AI Glasses é€éã€Œæ”¾å¤§ï¼‹æœ—è®€ï¼‹ç¿»è­¯ã€æ”¯æ´æ—¥å¸¸è³‡è¨Šç†è§£èˆ‡å°è©±ã€‚
            </p>

            <div class="mini" style="margin-top:10px;">
              ä½¿ç”¨æƒ…å¢ƒï¼šè—¥è¢‹ã€æ”¶æ“šã€çœ‹æ¿ã€é–€è¨ºæŒ‡ç¤ºèˆ‡è·¯ç·šè³‡è¨Šç­‰ã€‚
            </div>
          </div>
        </div>

        <div class="card">
          <div class="pad">
            <h3 style="letter-spacing:.06em;">FUNCTIONS</h3>
            <ul style="margin-top:8px;color:var(--muted);padding-left:18px;">
              <li><b style="color:var(--text)">Text Magnification</b>ï¼šå”åŠ©é–±è®€å°å­—ï¼ˆè—¥è¢‹ã€æ”¶æ“šã€çœ‹æ¿ï¼‰ã€‚</li>
              <li><b style="color:var(--text)">Audio Reading & Voice Translation</b>ï¼šæœ—è®€èˆ‡ç¿»è­¯ï¼Œå¤šèª/æ–¹è¨€æºé€šã€‚</li>
              <li><b style="color:var(--text)">Scheduled Reminders</b>ï¼šè—¥ç‰©/å–æ°´/å›è¨ºæé†’ï¼Œä¸¦å¯å›å ±å®Œæˆã€‚</li>
              <li><b style="color:var(--text)">Direction Guidance</b>ï¼šç°¡åŒ–ç®­é ­å°èˆªï¼‹èªéŸ³æŒ‡å¼•ã€‚</li>
              <li><b style="color:var(--text)">Automatic SOS</b>ï¼šè·Œå€’/ä¹…æœªæ´»å‹•åµæ¸¬ï¼Œå‚³é€ä½ç½®çµ¦å®¶äººã€‚</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="grid-3" style="margin-top:12px;">
        <div class="tile" data-lens-title="TEXT MAGNIFICATION" data-lens-text="è—¥è¢‹/æ”¶æ“šå¤ªå°çœ‹ä¸åˆ°ï¼Ÿä½¿ç”¨ Text modeï¼Œèª¿æ•´å­—é«”å¤§å°ï¼Œé¡ç‰‡å³æ™‚ç–Šå­—é¡¯ç¤ºã€‚">
          <div class="top">
            <div class="icon">ğŸ”</div>
            <div>
              <h3>Text Magnification</h3>
              <p>æ”¾å¤§æ–‡å­—ï¼Œå”åŠ©é–±è®€å°å­—</p>
            </div>
          </div>
        </div>

        <div class="tile" data-lens-title="VOICE TRANSLATION" data-lens-text="åˆ‡æ› Translation modeï¼šæŠŠå°è©±ç¿»æˆé•·è¼©ç†Ÿæ‚‰çš„èªè¨€/æ–¹è¨€ï¼Œä¸¦å¯ç”¨èªéŸ³æœ—è®€ã€‚">
          <div class="top">
            <div class="icon">ğŸ’¬</div>
            <div>
              <h3>Audio & Translation</h3>
              <p>æœ—è®€ï¼‹ç¿»è­¯ï¼Œé™ä½æºé€šé–€æª»</p>
            </div>
          </div>
        </div>

        <div class="tile" data-lens-title="SAFETY (SOS)" data-lens-text="è·Œå€’æˆ–ä¹…æœªæ´»å‹•ï¼Ÿç³»çµ±å…ˆè©¢å•æ˜¯å¦éœ€è¦å”åŠ©ï¼Œè‹¥ç„¡å›æ‡‰å‰‡ç™¼é€ä½ç½®èˆ‡ç·Šæ€¥è¯çµ¡äººã€‚">
          <div class="top">
            <div class="icon">ğŸ†˜</div>
            <div>
              <h3>Automatic SOS</h3>
              <p>å±æ€¥ç‹€æ³è‡ªå‹•é€šå ±</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Translation Demo -->
      <div class="card soft" style="margin-top:12px;">
        <div class="pad">
          <div class="section-head" style="margin:0 0 6px;">
            <div>
              <div class="kicker">Interactive</div>
              <h2 style="margin-top:4px;">Text & Translation Demo</h2>
            </div>
            <div class="hint">å«ã€ŒèªéŸ³æœ—è®€ã€åŠŸèƒ½ï¼ˆSpeechSynthesisï¼‰</div>
          </div>

          <div class="grid-2">
            <div>
              <div class="row">
                <div style="flex:1;min-width:180px">
                  <div class="field">
                    <label>Input Language</label>
                    <select id="lang-in">
                      <option value="zh">Mandarin (ä¸­æ–‡)</option>
                      <option value="tw">Taiwanese (å°èª)</option>
                      <option value="hak">Hakka (å®¢èª)</option>
                      <option value="en">English</option>
                    </select>
                  </div>
                </div>

                <div style="flex:1;min-width:180px">
                  <div class="field">
                    <label>Output Language</label>
                    <select id="lang-out">
                      <option value="hak">Hakka (å®¢èª)</option>
                      <option value="tw">Taiwanese (å°èª)</option>
                      <option value="zh">Mandarin (ä¸­æ–‡)</option>
                      <option value="en">English</option>
                    </select>
                  </div>
                </div>
              </div>

              <div class="field">
                <label>è¼¸å…¥ä¸€å¥è©±ï¼ˆå¯ç”¨ä¸­æ–‡/è‹±æ–‡ï¼‰</label>
                <textarea id="txt-in" placeholder="ä¾‹ï¼šè«‹æŒ‰æ™‚åƒè—¥ï¼Œç­‰ä¸€ä¸‹å»çœ‹é†«ç”Ÿã€‚"></textarea>
                <div class="mini">æœ¬é ä»¥ç°¡æ˜“è¦å‰‡ç¤ºç¯„ç¿»è­¯æµç¨‹ï¼›å¯¦ä½œå¯æ”¹æ¥æ­£å¼èªéŸ³/ç¿»è­¯æ¨¡å‹ã€‚</div>
              </div>

              <div class="row" style="margin-top:10px;">
                <button class="btn primary" id="btn-translate">ç¿»è­¯åˆ°é¡ç‰‡</button>
                <button class="btn" id="btn-speak">èªéŸ³æœ—è®€ï¼ˆé¡ç‰‡å…§å®¹ï¼‰</button>
                <span class="badge" id="voice-badge">voice: auto</span>
              </div>
            </div>

            <div>
              <div class="field">
                <label>ç¿»è­¯çµæœï¼ˆè¼¸å‡ºï¼‰</label>
                <textarea id="txt-out" readonly placeholder="(çµæœæœƒé¡¯ç¤ºåœ¨é€™è£¡ï¼Œä¹ŸæœƒåŒæ­¥åˆ° Lens)"></textarea>
              </div>

              <div class="mini" style="margin-top:10px;">
                æ“ä½œæµç¨‹ï¼šé¸æ“‡è¼¸å…¥/è¼¸å‡ºèªè¨€ â†’ è¼¸å…¥æ–‡å­— â†’ é€å‡º â†’ é¡ç‰‡é¡¯ç¤ºç¿»è­¯èˆ‡å¯é¸æœ—è®€ã€‚
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- MANUAL -->
    <section class="section reveal" id="manual">
      <div class="section-head">
        <div>
          <div class="kicker">Manual</div>
          <h2>Reminder / Navigation / SOS (Interactive)</h2>
        </div>
        <div class="hint">åˆ†é åˆ‡æ› + æ­¥é©Ÿé»é¸ï¼ˆæµç¨‹å°è¦½ï¼‰</div>
      </div>

      <div class="card">
        <div class="tabs">
          <button class="tab-btn active" data-tab="rem">REMINDER</button>
          <button class="tab-btn" data-tab="nav">NAVIGATION</button>
          <button class="tab-btn" data-tab="sos">SOS</button>
        </div>

        <!-- REMINDER -->
        <div class="tab-panel active" id="tab-rem">
          <div class="flow">
            <div>
              <h3 style="letter-spacing:.06em;">Reminder Flow</h3>
              <p style="color:var(--muted);margin-top:6px;">
                Setup â†’ Time Trigger â†’ Audio Reminder â†’ Respond â†’ Record
              </p>

              <div class="stepchips" data-group="rem">
                <div class="chip active" data-step="1"><b>1</b>Setup</div>
                <div class="chip" data-step="2"><b>2</b>Time Trigger</div>
                <div class="chip" data-step="3"><b>3</b>Audio Reminder</div>
                <div class="chip" data-step="4"><b>4</b>Respond</div>
                <div class="chip" data-step="5"><b>5</b>Record</div>
              </div>

              <div class="detail" id="detail-rem" style="margin-top:10px;">
                è¨­å®šæé†’å…§å®¹ï¼šåƒè—¥ / å–æ°´ / å›è¨ºï¼Œä¸¦æŒ‡å®šæ™‚é–“èˆ‡é‡è¤‡é »ç‡ã€‚
              </div>

              <div class="card soft" style="margin-top:12px;">
                <div class="pad">
                  <h3 style="letter-spacing:.06em;">æ’ç¨‹æé†’</h3>
                  <div class="row">
                    <div style="flex:1;min-width:210px">
                      <div class="field">
                        <label>æé†’å…§å®¹</label>
                        <input class="inp" id="rem-title" placeholder="ä¾‹ï¼šæ™šä¸Š 9 é»åƒè—¥" />
                      </div>
                    </div>
                    <div style="width:160px;min-width:140px">
                      <div class="field">
                        <label>æ™‚é–“</label>
                        <input class="inp" id="rem-time" type="time" value="21:00" />
                      </div>
                    </div>
                  </div>

                  <div class="row" style="margin-top:10px;">
                    <button class="btn primary" id="rem-set">è¨­å®šæé†’</button>
                    <button class="btn" id="rem-test">ç«‹åˆ»è§¸ç™¼æ¸¬è©¦</button>
                    <span class="badge" id="rem-next">next: --:--</span>
                  </div>

                  <div class="log" id="rem-log" aria-label="Reminder logs"></div>
                </div>
              </div>
            </div>

            <div>
              <div class="card soft">
                <div class="pad">
                  <h3 style="letter-spacing:.06em;">Completion Overview</h3>
                  <p style="color:var(--muted);margin-top:6px;">
                    é€éå®Œæˆ/æœªå®Œæˆç´€éŒ„ï¼Œå¿«é€ŸæŒæ¡æé†’æ˜¯å¦è¢«ç¢ºå¯¦åŸ·è¡Œã€‚
                  </p>
                  <div class="bar"><i id="rem-bar"></i></div>
                  <div class="mini" id="rem-bar-text" style="margin-top:8px;">å®Œæˆç‡ï¼š0%</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- NAVIGATION -->
        <div class="tab-panel" id="tab-nav">
          <div class="flow">
            <div>
              <h3 style="letter-spacing:.06em;">Navigation Flow</h3>
              <p style="color:var(--muted);margin-top:6px;">
                Setup â†’ GPS location â†’ Simple navigation â†’ Voice prompts â†’ Family view
              </p>

              <div class="stepchips" data-group="nav">
                <div class="chip active" data-step="1"><b>1</b>Setup</div>
                <div class="chip" data-step="2"><b>2</b>GPS</div>
                <div class="chip" data-step="3"><b>3</b>Arrows</div>
                <div class="chip" data-step="4"><b>4</b>Voice</div>
                <div class="chip" data-step="5"><b>5</b>Family View</div>
              </div>

              <div class="detail" id="detail-nav" style="margin-top:10px;">
                å®¶äººå…ˆåœ¨ App è¨­å®šç›®çš„åœ°ï¼ˆå®¶/è¨ºæ‰€/å¸‚å ´ï¼‰ï¼Œé•·è¼©åªè¦æŒ‰ä¸€ä¸‹å°±èƒ½é–‹å§‹å°èˆªã€‚
              </div>

              <div class="card soft" style="margin-top:12px;">
                <div class="pad">
                  <h3 style="letter-spacing:.06em;">æ¨¡æ“¬å°èˆª</h3>
                  <div class="row">
                    <div style="flex:1;min-width:210px">
                      <div class="field">
                        <label>ç›®çš„åœ°</label>
                        <select id="nav-dest">
                          <option value="clinic">Clinic è¨ºæ‰€</option>
                          <option value="market">Market å¸‚å ´</option>
                          <option value="home">Home å›å®¶</option>
                        </select>
                      </div>
                    </div>
                    <div style="width:170px;min-width:160px">
                      <div class="field">
                        <label>æ­¥è¡Œé€Ÿåº¦</label>
                        <select id="nav-speed">
                          <option value="1">Slow</option>
                          <option value="2" selected>Normal</option>
                          <option value="3">Fast</option>
                        </select>
                      </div>
                    </div>
                  </div>

                  <div class="row" style="margin-top:10px;">
                    <button class="btn primary" id="nav-start">é–‹å§‹å°èˆª</button>
                    <button class="btn" id="nav-pause">æš«åœ</button>
                    <button class="btn danger" id="nav-stop">çµæŸ</button>
                    <span class="badge" id="nav-step-badge">step: 0/0</span>
                  </div>

                  <div class="bar"><i id="nav-bar"></i></div>
                  <div class="mini" id="nav-now" style="margin-top:8px;">å°šæœªé–‹å§‹</div>
                </div>
              </div>
            </div>

            <div>
              <div class="card soft">
                <div class="pad">
                  <h3 style="letter-spacing:.06em;">Family View</h3>
                  <p style="color:var(--muted);margin-top:6px;">
                    é¡¯ç¤ºã€Œç›®å‰ç‹€æ…‹/ä¸‹ä¸€æ­¥æŒ‡ç¤ºã€ç´€éŒ„ï¼Œæ¨¡æ“¬å®¶äººç«¯æŒæ¡è¡Œèµ°é€²åº¦ã€‚
                  </p>
                  <div class="log" id="nav-log" aria-label="Navigation logs"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- SOS -->
        <div class="tab-panel" id="tab-sos">
          <div class="flow">
            <div>
              <h3 style="letter-spacing:.06em;">SOS Flow</h3>
              <p style="color:var(--muted);margin-top:6px;">
                Sensor Detect â†’ Ask Require Help? â†’ Countdown â†’ Send location & contact
              </p>

              <div class="stepchips" data-group="sos">
                <div class="chip active" data-step="1"><b>1</b>Detect</div>
                <div class="chip" data-step="2"><b>2</b>Check</div>
                <div class="chip" data-step="3"><b>3</b>Ask</div>
                <div class="chip" data-step="4"><b>4</b>No</div>
                <div class="chip" data-step="5"><b>5</b>Yes</div>
              </div>

              <div class="detail" id="detail-sos" style="margin-top:10px;">
                æ„Ÿæ¸¬å™¨åµæ¸¬è·Œå€’/ä¹…æœªæ´»å‹•å¾Œï¼Œå…ˆè©¢å•æ˜¯å¦éœ€è¦å”åŠ©ï¼Œé™ä½èª¤å ±ã€‚
              </div>

              <div class="card soft" style="margin-top:12px;">
                <div class="pad">
                  <h3 style="letter-spacing:.06em;">SOS å€’æ•¸è­¦å ±</h3>

                  <div class="row">
                    <button class="btn danger" id="sos-fall">æ¨¡æ“¬è·Œå€’åµæ¸¬</button>
                    <button class="btn" id="sos-inactive">æ¨¡æ“¬ä¹…æœªæ´»å‹•</button>
                    <span class="badge" id="sos-badge">status: idle</span>
                  </div>

                  <div class="bar"><i id="sos-bar"></i></div>
                  <div class="mini" id="sos-msg" style="margin-top:8px;">
                    å°šæœªè§¸ç™¼ã€‚æŒ‰ã€Œæ¨¡æ“¬è·Œå€’/ä¹…æœªæ´»å‹•ã€é–‹å§‹å€’æ•¸ï¼Œè‹¥ä¸å–æ¶ˆå°±æœƒé€å‡ºè­¦å ±ï¼ˆæ¨¡æ“¬ï¼‰ã€‚
                  </div>

                  <div class="row" style="margin-top:10px;">
                    <button class="btn primary" id="sos-yes" disabled>æˆ‘éœ€è¦å¹«åŠ©ï¼ˆYESï¼‰</button>
                    <button class="btn" id="sos-no" disabled>æˆ‘æ²’äº‹ï¼ˆNOï¼‰</button>
                    <button class="btn" id="sos-cancel" disabled>å–æ¶ˆå€’æ•¸</button>
                  </div>

                  <div class="log" id="sos-log" aria-label="SOS logs"></div>
                </div>
              </div>
            </div>

            <div>
              <div class="card soft">
                <div class="pad">
                  <h3 style="letter-spacing:.06em;">Location & Contact</h3>
                  <p style="color:var(--muted);margin-top:6px;">
                    å€’æ•¸çµæŸæˆ–æŒ‰ YES æœƒç™¼é€ã€Œä½ç½® + ç·Šæ€¥è¯çµ¡äººã€è³‡è¨Šï¼ˆæ­¤é ä»¥ç´€éŒ„ç¤ºç¯„ï¼‰ã€‚
                  </p>
                  <div class="field">
                    <label>ç·Šæ€¥è¯çµ¡äºº</label>
                    <input class="inp" id="sos-contact" value="Family: Mom (09xx-xxx-xxx)" />
                  </div>
                  <div class="field">
                    <label>ç›®å‰ä½ç½®ï¼ˆç¤ºæ„ï¼‰</label>
                    <input class="inp" id="sos-loc" value="Taipei / Near MRT Station" />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div><!-- end SOS -->
      </div>
    </section>

    <!-- FUTURE -->
    <section class="section reveal" id="future">
      <div class="section-head">
        <div>
          <div class="kicker">Future</div>
          <h2>Development & Improvement</h2>
        </div>
        <div class="hint">æ‹–æ›³æ»‘æ¡¿æŸ¥çœ‹ä¸åŒéšæ®µï¼ˆRoadmapï¼‰</div>
      </div>

      <div class="grid-2">
        <div class="card">
          <div class="pad">
            <h3 style="letter-spacing:.06em;">DEVELOPMENT ROADMAP</h3>
            <p style="color:var(--muted);margin-top:8px;">
              å¾æ ¸å¿ƒåŠŸèƒ½å¯ç”¨ï¼Œåˆ°å¥åº·æ•´åˆã€ç¿»è­¯å“è³ªæå‡èˆ‡çºŒèˆª/é…æˆ´é«”é©—å„ªåŒ–ï¼Œé€æ­¥å®Œå–„ç”¢å“ã€‚
            </p>
            <input class="range" id="future-range" type="range" min="1" max="3" step="1" value="1" />
            <div class="timeline-box" id="future-box"></div>
          </div>
        </div>

        <div class="card">
          <div class="pad">
            <h3 style="letter-spacing:.06em;">IMPROVEMENT</h3>
            <ul style="margin-top:8px;color:var(--muted);padding-left:18px;">
              <li><b style="color:var(--text)">Health Integration</b>ï¼šæ•´åˆæ´»å‹•/å¿ƒç‡ç­‰ï¼Œæå‡å®‰å…¨æ€§ã€‚</li>
              <li><b style="color:var(--text)">Translation Quality</b>ï¼šåŠ å…¥èªæ„ç†è§£ï¼Œè®“ç¿»è­¯æ›´è‡ªç„¶ã€‚</li>
              <li><b style="color:var(--text)">Battery & Design</b>ï¼šæ›´è¼•ã€æ›´å¥½çœ‹ã€çºŒèˆªæ›´é•·ã€‚</li>
              <li><b style="color:var(--text)">User-Contributed Data</b>ï¼šå…è¨±ä½¿ç”¨è€…æä¾›è³‡æ–™è±å¯Œè³‡æ–™åº«ã€‚</li>
            </ul>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- BACK TOP -->
  <button class="backtop" id="backtop" aria-label="Back to top">â†‘</button>

  <!-- TOAST -->
  <div class="toast" id="toast" role="dialog" aria-live="polite">
    <div class="t-head">
      <b id="toast-title">Reminder</b>
      <button class="x" id="toast-x" aria-label="Close">âœ•</button>
    </div>
    <div class="t-body" id="toast-body">æé†’å…§å®¹</div>
    <div class="t-actions">
      <button class="btn primary" id="toast-done">å·²å®Œæˆ</button>
      <button class="btn" id="toast-skip">æœªå®Œæˆ</button>
      <button class="btn" id="toast-snooze">ç¨å¾Œæé†’</button>
    </div>
  </div>

  <script>
    /* =========================
       Utilities
    ========================= */
    const $ = (s, el=document) => el.querySelector(s);
    const $$ = (s, el=document) => [...el.querySelectorAll(s)];

    function smoothScrollTo(id){
      const el = $(id);
      if(!el) return;
      const y = el.getBoundingClientRect().top + window.scrollY - 86;
      window.scrollTo({ top: y, behavior: "smooth" });
    }

    function nowHHMM(){
      const d = new Date();
      const hh = String(d.getHours()).padStart(2,'0');
      const mm = String(d.getMinutes()).padStart(2,'0');
      return `${hh}:${mm}`;
    }

    function addLog(el, html){
      const wrap = $(el);
      const div = document.createElement('div');
      div.className = 'it';
      div.innerHTML = html;
      wrap.prepend(div);
    }

    function clamp(n,a,b){ return Math.max(a, Math.min(b,n)); }

    /* =========================
       Nav scroll & active highlight
    ========================= */
    $$(".nav-btn, [data-scroll]").forEach(btn=>{
      const t = btn.getAttribute("data-scroll");
      if(!t) return;
      btn.addEventListener("click", ()=> smoothScrollTo(t));
    });

    const sectionIds = ["#intro","#functions","#manual","#future"];
    function updateActiveNav(){
      const y = window.scrollY + 100;
      let current = "#intro";
      sectionIds.forEach(id=>{
        const s = $(id);
        if(s && s.offsetTop <= y) current = id;
      });
      $$(".nav-btn").forEach(b=>{
        b.classList.toggle("active", b.getAttribute("data-scroll")===current);
      });
    }
    window.addEventListener("scroll", updateActiveNav);
    updateActiveNav();

    /* =========================
       Reveal animation
    ========================= */
    const ob = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          e.target.classList.add("visible");
          ob.unobserve(e.target);
        }
      });
    }, {threshold:.14});
    $$(".reveal").forEach(el=> ob.observe(el));

    /* =========================
       Hero counters
    ========================= */
    function animateCount(el){
      const target = parseInt(el.dataset.target,10);
      const start = performance.now();
      const dur = 1200;
      function tick(t){
        const p = Math.min((t-start)/dur,1);
        const v = Math.floor(target*p);
        el.textContent = (target>=100? `${v}+`: `${v}`);
        if(p<1) requestAnimationFrame(tick);
      }
      requestAnimationFrame(tick);
    }
    const obCount = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          animateCount(e.target);
          obCount.unobserve(e.target);
        }
      });
    }, {threshold:.6});
    $$(".count").forEach(el=> obCount.observe(el));

    /* =========================
       Lens simulator
    ========================= */
    const zoom = $("#zoom");
    const vol = $("#vol");
    const mode = $("#mode");
    const lensText = $("#lens-text");
    const lensLabel = $("#lens-label");
    const lensContent = $("#lens-content");
    const valZoom = $("#val-zoom");
    const valVol = $("#val-vol");
    const valMode = $("#val-mode");
    const lensMode = $("#lens-mode");
    const hudTime = $("#hud-time");
    const hudLang = $("#hud-lang");

    function renderLens(){
      const z = parseInt(zoom.value,10);
      const v = parseInt(vol.value,10);
      const m = parseInt(mode.value,10) === 0 ? "Text" : "Translation";

      lensText.style.transform = `scale(${z/100})`;
      valZoom.textContent = `${z}%`;
      valVol.textContent = `${v}%`;
      valMode.textContent = m;
      lensMode.textContent = m;

      if(m === "Text"){
        lensLabel.textContent = "TEXT MAGNIFICATION";
        hudLang.textContent = "Text Mode";
      }else{
        lensLabel.textContent = "TRANSLATION OVERLAY";
        hudLang.textContent = `${$("#lang-in").value.toUpperCase()} â†’ ${$("#lang-out").value.toUpperCase()}`;
      }
      hudTime.textContent = nowHHMM();
    }
    [zoom,vol,mode].forEach(i=> i.addEventListener("input", renderLens));
    setInterval(renderLens, 10000);
    renderLens();

    /* Feature tiles -> push to lens */
    $$(".tile").forEach(t=>{
      t.addEventListener("click", ()=>{
        const title = t.dataset.lensTitle || "INFO";
        const text = t.dataset.lensText || "";
        if(title.includes("TRANSLATION")){
          mode.value = 1;
        }else{
          mode.value = 0;
        }
        lensLabel.textContent = title;
        lensContent.textContent = text;
        renderLens();
        smoothScrollTo("#intro");
      });
    });

    /* =========================
       Translation demo (offline simple rules)
    ========================= */
    const dict = {
      zh: {
        "è«‹æŒ‰æ™‚åƒè—¥":"è¨˜å¾—æº–æ™‚é£Ÿè—¥",
        "ç­‰ä¸€ä¸‹å»çœ‹é†«ç”Ÿ":"ç­‰é™£å»çœ‹é†«ç”Ÿ",
        "å–æ°´":"é£²æ°´",
        "è¬è¬":"å¤šè¬",
        "æˆ‘éœ€è¦å¹«åŠ©":"æˆ‘æ„›å¹«åŠ©",
        "æˆ‘æ²’äº‹":"æˆ‘ç„¡äº‹"
      },
      en: {
        "take medicine":"take medicine",
        "doctor":"doctor",
        "thank you":"thank you"
      }
    };

    function simpleTranslate(input, inLang, outLang){
      let out = input.trim();
      if(!out) return "";
      if(inLang === "zh" && (outLang === "tw" || outLang === "hak")){
        Object.keys(dict.zh).forEach(k=>{
          out = out.split(k).join(dict.zh[k]);
        });
        out = outLang === "tw" ? `ï¼ˆå°èªï¼‰${out}` : `ï¼ˆå®¢èªï¼‰${out}`;
      } else if(outLang === "en"){
        out = `EN: ${out}`;
      } else if(outLang === "zh"){
        out = `ä¸­æ–‡ï¼š${out}`;
      } else {
        out = outLang.toUpperCase() + ": " + out;
      }
      return out;
    }

    $("#btn-translate").addEventListener("click", ()=>{
      const inL = $("#lang-in").value;
      const outL = $("#lang-out").value;
      const input = $("#txt-in").value;
      const output = simpleTranslate(input, inL, outL);
      $("#txt-out").value = output;

      mode.value = 1;
      lensLabel.textContent = "TRANSLATION OVERLAY";
      lensContent.textContent = output || "ï¼ˆæ²’æœ‰è¼¸å…¥æ–‡å­—ï¼‰";
      renderLens();
      smoothScrollTo("#intro");
    });

    function speak(text, volume01){
      if(!("speechSynthesis" in window)) return false;
      const u = new SpeechSynthesisUtterance(text);
      u.rate = 1.02;
      u.pitch = 1.0;
      u.volume = clamp(volume01, 0, 1);

      const voices = speechSynthesis.getVoices?.() || [];
      const prefer = voices.find(v=> /zh|Chinese/i.test(v.lang) || /zh/i.test(v.name));
      if(prefer) u.voice = prefer;

      $("#voice-badge").textContent = "voice: " + (u.voice ? (u.voice.name || "selected") : "default");
      speechSynthesis.cancel();
      speechSynthesis.speak(u);
      return true;
    }

    if ("speechSynthesis" in window) {
      speechSynthesis.onvoiceschanged = ()=>{};
    }

    $("#btn-speak").addEventListener("click", ()=>{
      const text = $("#txt-out").value || lensContent.textContent || "";
      const v = parseInt(vol.value,10)/100;
      speak(text, v);
    });

    $("#lang-in").addEventListener("change", renderLens);
    $("#lang-out").addEventListener("change", renderLens);

    /* =========================
       Toast (Reminder notification)
    ========================= */
    const toast = $("#toast");
    let toastTimer = null;
    let lastReminder = null;

    function showToast(title, body){
      $("#toast-title").textContent = title;
      $("#toast-body").textContent = body;
      toast.classList.add("show");
      if(toastTimer) clearTimeout(toastTimer);
      toastTimer = setTimeout(()=> toast.classList.remove("show"), 16000);
    }
    function hideToast(){
      toast.classList.remove("show");
      if(toastTimer) clearTimeout(toastTimer);
      toastTimer = null;
    }
    $("#toast-x").addEventListener("click", hideToast);

    $("#btn-open-toast").addEventListener("click", ()=>{
      lastReminder = { title: "Reminder", body: "æ¸¬è©¦æé†’ï¼šè«‹å–æ°´ï¼ˆDemoï¼‰", time: nowHHMM() };
      showToast(lastReminder.title, lastReminder.body);
      mode.value = 0;
      lensLabel.textContent = "REMINDER";
      lensContent.textContent = lastReminder.body;
      renderLens();
    });

    $("#toast-done").addEventListener("click", ()=>{
      if(lastReminder){
        addLog("#rem-log", `<span class="ok">[DONE]</span> ${lastReminder.time} â€” ${lastReminder.body}`);
        calcCompletion();
      }
      hideToast();
    });
    $("#toast-skip").addEventListener("click", ()=>{
      if(lastReminder){
        addLog("#rem-log", `<span class="no">[SKIP]</span> ${lastReminder.time} â€” ${lastReminder.body}`);
        calcCompletion();
      }
      hideToast();
    });
    $("#toast-snooze").addEventListener("click", ()=>{
      if(!lastReminder) return;
      addLog("#rem-log", `<span class="info">[SNOOZE]</span> ${nowHHMM()} â€” ${lastReminder.body} (å†æé†’ 30 ç§’)`);
      hideToast();
      setTimeout(()=>{
        lastReminder.time = nowHHMM();
        showToast("Reminder (Snoozed)", lastReminder.body);
        mode.value = 0;
        lensLabel.textContent = "REMINDER";
        lensContent.textContent = lastReminder.body + "ï¼ˆSnoozedï¼‰";
        renderLens();
      }, 30000);
    });

    /* Reminder scheduling */
    let reminderInterval = null;
    $("#rem-set").addEventListener("click", ()=>{
      const title = $("#rem-title").value.trim() || "æé†’ï¼šåƒè—¥/å–æ°´";
      const time = $("#rem-time").value || "21:00";
      $("#rem-next").textContent = `next: ${time}`;
      addLog("#rem-log", `<span class="info">[SET]</span> ${nowHHMM()} â€” ${title} @ ${time}`);
      if(reminderInterval) clearInterval(reminderInterval);

      reminderInterval = setInterval(()=>{
        const cur = nowHHMM();
        if(cur === time){
          lastReminder = { title: "Reminder", body: title, time: cur };
          showToast("Reminder", title);
          mode.value = 0;
          lensLabel.textContent = "REMINDER";
          lensContent.textContent = title;
          renderLens();
        }
      }, 1000);
    });

    $("#rem-test").addEventListener("click", ()=>{
      const title = $("#rem-title").value.trim() || "æ¸¬è©¦æé†’ï¼šè«‹æŒ‰æ™‚åƒè—¥";
      lastReminder = { title: "Reminder", body: title, time: nowHHMM() };
      showToast("Reminder (Test)", title);
      mode.value = 0;
      lensLabel.textContent = "REMINDER";
      lensContent.textContent = title;
      renderLens();
    });

    function calcCompletion(){
      const items = $$("#rem-log .it");
      if(items.length === 0){
        $("#rem-bar").style.width = "0%";
        $("#rem-bar-text").textContent = "å®Œæˆç‡ï¼š0%";
        return;
      }
      let done = 0, total = 0;
      items.forEach(it=>{
        if(it.textContent.includes("[DONE]") || it.innerHTML.includes("[DONE]")) { done++; total++; }
        else if(it.textContent.includes("[SKIP]") || it.innerHTML.includes("[SKIP]")) { total++; }
      });
      const rate = total ? Math.round((done/total)*100) : 0;
      $("#rem-bar").style.width = rate + "%";
      $("#rem-bar-text").textContent = `å®Œæˆç‡ï¼š${rate}%ï¼ˆDONE ${done} / TOTAL ${total}ï¼‰`;
    }

    /* =========================
       Manual tabs + chips
    ========================= */
    $$(".tab-btn").forEach(b=>{
      b.addEventListener("click", ()=>{
        const id = b.dataset.tab;
        $$(".tab-btn").forEach(x=> x.classList.toggle("active", x===b));
        $$(".tab-panel").forEach(p=> p.classList.toggle("active", p.id === "tab-" + id));
      });
    });

    const desc = {
      rem: {
        1: "è¨­å®šæé†’å…§å®¹ï¼šåƒè—¥ / å–æ°´ / å›è¨ºï¼Œä¸¦æŒ‡å®šæ™‚é–“èˆ‡é‡è¤‡é »ç‡ã€‚",
        2: "åˆ°æ™‚é–“è‡ªå‹•è§¸ç™¼ï¼ˆTime Triggerï¼‰ï¼Œæº–å‚™æ’­æ”¾æé†’ã€‚",
        3: "çœ¼é¡æ’­æ”¾æç¤ºéŸ³èˆ‡èªéŸ³å…§å®¹ï¼Œé¡ç‰‡åŒæ­¥é¡¯ç¤ºæ–‡å­—ã€‚",
        4: "ä½¿ç”¨è€…å›è¦†ï¼šå·²å®Œæˆ / æœªå®Œæˆ / ç¨å¾Œæé†’ã€‚",
        5: "å°‡çµæœå¯«å…¥ç´€éŒ„ï¼Œä¾¿æ–¼å¾ŒçºŒæŸ¥è©¢ã€‚"
      },
      nav: {
        1: "å®¶äººå…ˆåœ¨ App è¨­å®šç›®çš„åœ°ï¼ˆå®¶/è¨ºæ‰€/å¸‚å ´ï¼‰ï¼Œé•·è¼©ä¸€éµé–‹å§‹å°èˆªã€‚",
        2: "GPS æŒçºŒæ›´æ–°ä½ç½®ï¼Œæ–¹ä¾¿æŸ¥çœ‹ç•¶å‰é€²åº¦ã€‚",
        3: "é¡ç‰‡ä»¥ã€å¤§ç®­é ­ã€é¡¯ç¤ºä¸‹ä¸€æ­¥ï¼Œé™ä½èªçŸ¥è² æ“”ã€‚",
        4: "åŒæ­¥æ’­å ±èªéŸ³æç¤ºï¼Œä¸¦å¯èª¿æ•´éŸ³é‡ã€‚",
        5: "é¡¯ç¤ºè¡Œèµ°ç‹€æ…‹èˆ‡ä¸‹ä¸€æ­¥æç¤ºï¼Œä¾¿æ–¼é ç«¯æŒæ¡ã€‚"
      },
      sos: {
        1: "æ„Ÿæ¸¬å™¨åµæ¸¬è·Œå€’æˆ–é•·æ™‚é–“éœæ­¢ï¼Œå•Ÿå‹•å®‰å…¨æµç¨‹ã€‚",
        2: "åˆ¤æ–·æ˜¯å¦å¯èƒ½å±éšªï¼ˆé™ä½èª¤å ±ï¼‰ï¼Œæº–å‚™è©¢å•ã€‚",
        3: "è©¢å•ï¼šã€ä½ éœ€è¦å¹«åŠ©å—ï¼Ÿã€è‹¥ç„¡å›æ‡‰é€²å…¥å€’æ•¸ã€‚",
        4: "è‹¥å›ç­” NO æˆ–æ¢å¾©æ­£å¸¸æ´»å‹•ï¼Œå›åˆ°ç›£æ¸¬ç‹€æ…‹ã€‚",
        5: "è‹¥å›ç­” YES æˆ–å€’æ•¸çµæŸï¼Œç™¼é€ä½ç½®èˆ‡è¯çµ¡äººè³‡è¨Šã€‚"
      }
    };

    $$(".stepchips").forEach(group=>{
      const g = group.dataset.group;
      const detailEl = $("#detail-" + g);
      $$(".chip", group).forEach(ch=>{
        ch.addEventListener("click", ()=>{
          $$(".chip", group).forEach(x=> x.classList.remove("active"));
          ch.classList.add("active");
          const step = ch.dataset.step;
          detailEl.textContent = desc[g][step];
        });
      });
    });

    /* =========================
       Navigation simulator
    ========================= */
    const routes = {
      clinic: ["Start at Home", "Walk to Bus Stop", "Take Bus 3 stops", "Get off and cross street", "Arrive at Clinic"],
      market: ["Start at Home", "Turn right at corner", "Pass convenience store", "Arrive at Market entrance"],
      home: ["Start at Current Location", "Follow main road", "Turn left at pharmacy", "Arrive Home"]
    };

    let navTimer = null;
    let navPaused = false;
    let navStep = 0;
    let navList = [];

    function navLog(msg){ addLog("#nav-log", msg); }

    function navReset(){
      if(navTimer) clearInterval(navTimer);
      navTimer = null;
      navPaused = false;
      navStep = 0;
      navList = [];
      $("#nav-bar").style.width = "0%";
      $("#nav-now").textContent = "å°šæœªé–‹å§‹";
      $("#nav-step-badge").textContent = "step: 0/0";
    }

    $("#nav-start").addEventListener("click", ()=>{
      const dest = $("#nav-dest").value;
      const speed = parseInt($("#nav-speed").value,10);
      navList = routes[dest].slice();
      navStep = 0;
      navPaused = false;

      $("#nav-step-badge").textContent = `step: 0/${navList.length}`;
      navLog(`<span class="info">[START]</span> ${nowHHMM()} â€” destination: ${dest.toUpperCase()} / speed:${speed}`);

      mode.value = 0;
      lensLabel.textContent = "NAVIGATION";
      lensContent.textContent = "å°èˆªé–‹å§‹ï¼šè«‹çœ‹ä¸‹ä¸€æ­¥æŒ‡ç¤º";
      renderLens();

      if(navTimer) clearInterval(navTimer);

      const interval = 1500 / speed;
      navTimer = setInterval(()=>{
        if(navPaused) return;
        if(navStep >= navList.length){
          navLog(`<span class="ok">[ARRIVED]</span> ${nowHHMM()} â€” arrived!`);
          $("#nav-now").textContent = "å·²åˆ°é”ç›®çš„åœ° âœ…";
          $("#nav-bar").style.width = "100%";
          lensLabel.textContent = "NAVIGATION";
          lensContent.textContent = "å·²åˆ°é” âœ…";
          renderLens();
          clearInterval(navTimer);
          navTimer = null;
          return;
        }
        const text = navList[navStep];
        navStep++;
        const pct = Math.round((navStep/navList.length)*100);
        $("#nav-bar").style.width = pct + "%";
        $("#nav-step-badge").textContent = `step: ${navStep}/${navList.length}`;
        $("#nav-now").textContent = "ä¸‹ä¸€æ­¥ï¼š" + text;
        navLog(`<span class="info">[GPS]</span> ${nowHHMM()} â€” ${text} (progress ${pct}%)`);

        mode.value = 0;
        lensLabel.textContent = "NAVIGATION";
        lensContent.textContent = `â¡ ${text}`;
        renderLens();
      }, interval);
    });

    $("#nav-pause").addEventListener("click", ()=>{
      if(!navTimer) return;
      navPaused = !navPaused;
      navLog(`<span class="info">[${navPaused ? "PAUSE":"RESUME"}]</span> ${nowHHMM()}`);
      $("#nav-now").textContent = navPaused ? "å·²æš«åœï¼ˆæŒ‰ä¸€æ¬¡æ¢å¾©ï¼‰" : $("#nav-now").textContent;
    });

    $("#nav-stop").addEventListener("click", ()=>{
      navLog(`<span class="no">[STOP]</span> ${nowHHMM()} â€” navigation ended`);
      navReset();
    });

    /* =========================
       SOS simulator
    ========================= */
    let sosTimer = null;
    let sosCountdown = 0;

    function sosSetUI(active){
      $("#sos-yes").disabled = !active;
      $("#sos-no").disabled = !active;
      $("#sos-cancel").disabled = !active;
    }
    function sosLog(msg){ addLog("#sos-log", msg); }

    function sosReset(){
      if(sosTimer) clearInterval(sosTimer);
      sosTimer = null;
      sosCountdown = 0;
      $("#sos-bar").style.width = "0%";
      $("#sos-badge").textContent = "status: idle";
      $("#sos-msg").textContent = "å°šæœªè§¸ç™¼ã€‚æŒ‰ã€Œæ¨¡æ“¬è·Œå€’/ä¹…æœªæ´»å‹•ã€é–‹å§‹å€’æ•¸ï¼Œè‹¥ä¸å–æ¶ˆå°±æœƒé€å‡ºè­¦å ±ï¼ˆæ¨¡æ“¬ï¼‰ã€‚";
      sosSetUI(false);
      $("#lens-status").textContent = "OK";
      $("#lens-status").style.color = "var(--good)";
    }

    function startSOS(type){
      sosReset();
      sosCountdown = 12;
      $("#sos-badge").textContent = "status: checking";
      sosSetUI(true);

      $("#lens-status").textContent = "CHECK";
      $("#lens-status").style.color = "var(--warn)";

      sosLog(`<span class="info">[DETECT]</span> ${nowHHMM()} â€” ${type}`);
      $("#sos-msg").textContent = `åµæ¸¬åˆ°ï¼š${type}ã€‚æ˜¯å¦éœ€è¦å¹«åŠ©ï¼Ÿï¼ˆ12 ç§’å¾Œè‡ªå‹•ç™¼é€è­¦å ±ï¼‰`;

      mode.value = 0;
      lensLabel.textContent = "SOS";
      lensContent.textContent = `åµæ¸¬åˆ°ï¼š${type}ã€‚ä½ éœ€è¦å¹«åŠ©å—ï¼Ÿ`;
      renderLens();

      sosTimer = setInterval(()=>{
        sosCountdown--;
        const pct = Math.round(((12 - sosCountdown)/12)*100);
        $("#sos-bar").style.width = pct + "%";
        $("#sos-badge").textContent = "status: countdown " + sosCountdown + "s";
        if(sosCountdown <= 0){
          clearInterval(sosTimer);
          sosTimer = null;

          const loc = $("#sos-loc").value.trim();
          const c = $("#sos-contact").value.trim();
          sosLog(`<span class="no">[ALERT]</span> ${nowHHMM()} â€” send ALERT with location: <b>${loc}</b> / contact: <b>${c}</b>`);
          $("#sos-msg").textContent = "å·²è‡ªå‹•é€å‡ºè­¦å ±ï¼ˆæ¨¡æ“¬ï¼‰âœ…";

          $("#lens-status").textContent = "ALERT";
          $("#lens-status").style.color = "var(--bad)";
          lensLabel.textContent = "SOS ALERT";
          lensContent.textContent = `å·²é€å‡ºè­¦å ±ï¼š${loc}`;
          renderLens();

          sosSetUI(false);
        }
      }, 1000);
    }

    $("#sos-fall").addEventListener("click", ()=> startSOS("Fall detectedï¼ˆè·Œå€’ï¼‰"));
    $("#sos-inactive").addEventListener("click", ()=> startSOS("Prolonged inactiveï¼ˆä¹…æœªæ´»å‹•ï¼‰"));

    $("#sos-yes").addEventListener("click", ()=>{
      if(!sosTimer) return;
      clearInterval(sosTimer);
      sosTimer = null;
      const loc = $("#sos-loc").value.trim();
      const c = $("#sos-contact").value.trim();
      sosLog(`<span class="no">[YES]</span> ${nowHHMM()} â€” user confirmed help needed â†’ send location: <b>${loc}</b> / contact: <b>${c}</b>`);
      $("#sos-msg").textContent = "å·²ç¢ºèªéœ€è¦å¹«åŠ©ï¼šå·²é€å‡ºè­¦å ±ï¼ˆæ¨¡æ“¬ï¼‰âœ…";
      $("#sos-bar").style.width = "100%";

      $("#lens-status").textContent = "ALERT";
      $("#lens-status").style.color = "var(--bad)";
      lensLabel.textContent = "SOS ALERT";
      lensContent.textContent = `YES â†’ é€å‡ºè­¦å ±ï¼š${loc}`;
      renderLens();

      sosSetUI(false);
    });

    $("#sos-no").addEventListener("click", ()=>{
      if(!sosTimer) return;
      clearInterval(sosTimer);
      sosTimer = null;
      sosLog(`<span class="ok">[NO]</span> ${nowHHMM()} â€” user said OK, monitoring continues`);
      $("#sos-msg").textContent = "ä½¿ç”¨è€…å›è¦†æ²’äº‹ï¼šå›åˆ°ç›£æ¸¬ç‹€æ…‹ âœ…";
      $("#sos-bar").style.width = "0%";

      $("#lens-status").textContent = "OK";
      $("#lens-status").style.color = "var(--good)";
      lensLabel.textContent = "SOS";
      lensContent.textContent = "å·²å–æ¶ˆè­¦å ±ï¼Œå›åˆ°ç›£æ¸¬ã€‚";
      renderLens();

      sosSetUI(false);
    });

    $("#sos-cancel").addEventListener("click", ()=>{
      if(!sosTimer) return;
      clearInterval(sosTimer);
      sosTimer = null;
      sosLog(`<span class="info">[CANCEL]</span> ${nowHHMM()} â€” countdown canceled`);
      $("#sos-msg").textContent = "å·²å–æ¶ˆå€’æ•¸ï¼ˆæ¨¡æ“¬ï¼‰ã€‚";
      $("#sos-bar").style.width = "0%";

      $("#lens-status").textContent = "OK";
      $("#lens-status").style.color = "var(--good)";
      lensLabel.textContent = "SOS";
      lensContent.textContent = "å·²å–æ¶ˆå€’æ•¸ã€‚";
      renderLens();

      sosSetUI(false);
    });

    sosReset();

    /* =========================
       Future roadmap slider
    ========================= */
    const future = {
      1: {
        title: "Stage 1 â€” Core Support",
        items: [
          "ç©©å®šçš„æ–‡å­—æ”¾å¤§ + æœ—è®€",
          "æé†’åŠŸèƒ½å¯å›å ±å®Œæˆ/æœªå®Œæˆ",
          "åŸºæœ¬ SOSï¼ˆè·Œå€’/ä¹…æœªæ´»å‹• + æ‰‹å‹•ç¢ºèªï¼‰"
        ]
      },
      2: {
        title: "Stage 2 â€” Health Integration",
        items: [
          "æ•´åˆå¿ƒç‡/æ­¥æ•¸/ç¡çœ ç­‰å¥åº·æŒ‡æ¨™",
          "åµæ¸¬é¢¨éšªæ¨¡å¼ï¼ˆå¤œé–“è·Œå€’é¢¨éšªï¼‰",
          "åœ¨åŒæ„ä¸‹æä¾›å®¶äºº/é†«å¸«æ‘˜è¦"
        ]
      },
      3: {
        title: "Stage 3 â€” Natural Translation & Productization",
        items: [
          "æ›´è‡ªç„¶çš„èªæ„ç¿»è­¯ï¼ˆå°‘æ©Ÿå™¨æ„Ÿï¼‰",
          "æ›´è¼•é‡å¤–è§€ + ä¸€æ•´å¤©çºŒèˆª",
          "ç”¨æˆ¶å¯è²¢ç»è³‡æ–™è±å¯Œè³‡æ–™åº«"
        ]
      }
    };

    function renderFuture(v){
      const d = future[v];
      let html = `<h3>${d.title}</h3><ul>`;
      d.items.forEach(x=> html += `<li>${x}</li>`);
      html += `</ul>`;
      $("#future-box").innerHTML = html;
    }
    $("#future-range").addEventListener("input", (e)=> renderFuture(e.target.value));
    renderFuture("1");

    /* =========================
       Back to top
    ========================= */
    const backtop = $("#backtop");
    window.addEventListener("scroll", ()=>{
      backtop.classList.toggle("show", window.scrollY > 280);
      updateActiveNav();
    });
    backtop.addEventListener("click", ()=> window.scrollTo({top:0, behavior:"smooth"}));

    /* =========================
       Quick demo flow
    ========================= */
    $("#quick-demo").addEventListener("click", ()=>{
      smoothScrollTo("#functions");

      setTimeout(()=>{
        $("#txt-in").value = "è«‹æŒ‰æ™‚åƒè—¥ï¼Œç­‰ä¸€ä¸‹å»çœ‹é†«ç”Ÿã€‚è¬è¬";
        $("#lang-in").value = "zh";
        $("#lang-out").value = "hak";
        $("#btn-translate").click();
      }, 650);

      setTimeout(()=>{
        $("#rem-title").value = "æ™šé–“æé†’ï¼šåƒè—¥ï¼ˆDemoï¼‰";
        $("#rem-time").value = nowHHMM();
        $("#rem-test").click();
      }, 1600);

      setTimeout(()=>{
        smoothScrollTo("#manual");
        setTimeout(()=> $("#sos-fall").click(), 650);
      }, 3600);
    });

    /* =========================
       Accessibility toggles
    ========================= */
    let bigFont = false;
    $("#toggle-font").addEventListener("click", ()=>{
      bigFont = !bigFont;
      document.documentElement.style.fontSize = bigFont ? "112%" : "100%";
      $("#toggle-font").classList.toggle("on", bigFont);
    });

    let hi = false;
    $("#toggle-contrast").addEventListener("click", ()=>{
      hi = !hi;
      $("#toggle-contrast").classList.toggle("on", hi);
      if(hi){
        document.documentElement.style.setProperty("--stroke", "rgba(15,23,42,.22)");
        document.documentElement.style.setProperty("--muted", "rgba(15,23,42,.85)");
        document.documentElement.style.setProperty("--shadow", "0 16px 44px rgba(2,6,23,.10)");
        document.documentElement.style.setProperty("--shadow2", "0 12px 34px rgba(2,6,23,.10)");
      }else{
        document.documentElement.style.setProperty("--stroke", "rgba(15,23,42,.12)");
        document.documentElement.style.setProperty("--muted", "rgba(15,23,42,.68)");
        document.documentElement.style.setProperty("--shadow", "0 14px 40px rgba(2,6,23,.08)");
        document.documentElement.style.setProperty("--shadow2", "0 10px 28px rgba(2,6,23,.07)");
      }
    });

    /* =========================
       init logs placeholders
    ========================= */
    addLog("#rem-log", `<span class="info">[INFO]</span> ${nowHHMM()} â€” reminder log ready.`);
    addLog("#nav-log", `<span class="info">[INFO]</span> ${nowHHMM()} â€” navigation log ready.`);
    addLog("#sos-log", `<span class="info">[INFO]</span> ${nowHHMM()} â€” SOS log ready.`);
    calcCompletion();
  </script>
</body>
</html>